<?php
/**
 * TripTalk 시드 데이터 v2 - 가치 중심 콘텐츠 + 지도 좌표
 *
 * 실행 방법:
 * wp eval-file /var/www/html/wp-content/themes/flavor-trip/seed-data-v2.php --allow-root
 *
 * @package TripTalk
 */

if (!defined('WP_CLI') || !WP_CLI) {
    echo "이 스크립트는 WP-CLI에서만 실행할 수 있습니다.\n";
    exit(1);
}

WP_CLI::log('=== TripTalk 가치 중심 콘텐츠 v2 생성 시작 ===');

// ─────────────────────────────────────────────
// 1. 기존 travel_itinerary 포스트 삭제
// ─────────────────────────────────────────────
WP_CLI::log('');
WP_CLI::log('── 1단계: 기존 여행 일정 삭제 ──');

$existing = get_posts([
    'post_type'      => 'travel_itinerary',
    'posts_per_page' => -1,
    'post_status'    => 'any',
]);

foreach ($existing as $post) {
    wp_delete_post($post->ID, true);
    WP_CLI::log("  [-] #{$post->ID} {$post->post_title} 삭제");
}

// ─────────────────────────────────────────────
// 2. 헬퍼 함수
// ─────────────────────────────────────────────
function get_term_id_by_slug($slug, $taxonomy) {
    $term = get_term_by('slug', $slug, $taxonomy);
    return $term ? $term->term_id : null;
}

// ─────────────────────────────────────────────
// 3. 가치 중심 콘텐츠 + 좌표
// ─────────────────────────────────────────────
WP_CLI::log('');
WP_CLI::log('── 2단계: 가치 중심 여행 일정 생성 ──');

$itineraries = [
    // ═══════════════════════════════════════════
    // 제주도 - 아이와 함께
    // ═══════════════════════════════════════════
    [
        'title'       => '아이와 함께할 때 동선을 40% 줄여주는 제주 서쪽 코스',
        'excerpt'     => '5세 이하 아이와 제주 여행? 서쪽 해안을 따라 이동 시간은 줄이고, 아이가 즐길 수 있는 명소만 엄선했습니다. 실제 부모들의 후기를 반영한 2박3일 코스.',
        'content'     => '<p>제주도 가족여행에서 가장 힘든 건 <strong>이동 시간</strong>입니다. 아이가 차에서 지치면 여행 전체가 힘들어지죠.</p>
<p>이 코스는 제주 서쪽 해안을 따라 <strong>모든 명소가 30분 이내</strong> 거리에 있도록 설계했습니다. 일반적인 제주 일주 코스 대비 <strong>이동 시간 40% 절감</strong>됩니다.</p>
<h3>이 코스의 핵심 포인트</h3>
<ul>
<li>모든 명소 간 이동시간 30분 이내</li>
<li>유아 동반 시 필수인 화장실/수유실 정보 포함</li>
<li>아이 메뉴가 있는 식당만 선별</li>
<li>낮잠 시간을 고려한 오후 2-4시 이동 배치</li>
</ul>',
        'dest_slugs'  => ['jeju', 'korea'],
        'styles'      => ['가족여행'],
        'meta'        => [
            '_ft_destination_name' => '제주도',
            '_ft_duration'         => '2박3일',
            '_ft_price_range'      => 'moderate',
            '_ft_difficulty'       => 'easy',
            '_ft_best_season'      => '4월~6월, 9월~10월',
            '_ft_highlights'       => '이동시간 40% 절감, 아이 친화 명소, 유아식 맛집',
            '_ft_map_lat'          => '33.3940',
            '_ft_map_lng'          => '126.2436',
            '_ft_map_zoom'         => 10,
        ],
        'days' => [
            [
                'title'   => '제주 서쪽 해안 시작',
                'summary' => '공항에서 30분 거리, 서쪽 해안의 아이 친화 명소 집중 공략',
                'tip'     => '렌터카는 카시트 포함 예약 필수. 공항 근처보다 애월 숙소가 다음날 이동에 유리합니다.',
                'spots'   => [
                    [
                        'type'        => 'place',
                        'time'        => '10:00',
                        'name'        => '협재해수욕장',
                        'description' => '수심이 얕아 5세 이하도 안전하게 물놀이 가능. 투명한 에메랄드빛 바다.',
                        'duration'    => '1시간 30분',
                        'tip'         => '해변 바로 앞 공영주차장 무료. 샤워시설 완비.',
                        'lat'         => 33.3940,
                        'lng'         => 126.2396,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '12:00',
                        'name'        => '협재해물칼국수',
                        'cuisine'     => '한식',
                        'description' => '해물칼국수가 시그니처. 아이용 잔치국수(5,000원) 별도 메뉴 있음.',
                        'menu'        => '해물칼국수, 아이용 잔치국수',
                        'price'       => '1인 10,000원',
                        'wait_tip'    => '11:30 전 도착 시 웨이팅 없음',
                        'lat'         => 33.3948,
                        'lng'         => 126.2401,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '14:00',
                        'name'        => '오설록 티뮤지엄',
                        'description' => '녹차밭 산책로가 유모차 접근 가능. 아이스크림으로 아이 달래기 좋음.',
                        'duration'    => '1시간',
                        'tip'         => '녹차 아이스크림 필수. 오후 2-3시가 가장 한적.',
                        'lat'         => 33.3060,
                        'lng'         => 126.2893,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '16:00',
                        'name'        => '새별오름',
                        'description' => '왕복 30분 가벼운 산책. 정상에서 보는 일몰이 환상적.',
                        'duration'    => '40분',
                        'tip'         => '유모차 불가. 아기띠 준비하세요. 일몰 1시간 전 도착 권장.',
                        'lat'         => 33.3633,
                        'lng'         => 126.3633,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '18:30',
                        'name'        => '애월 해녀의집',
                        'cuisine'     => '해산물',
                        'description' => '싱싱한 회와 해산물 뚝배기. 아이용 계란찜 서비스.',
                        'menu'        => '모듬회, 전복죽',
                        'price'       => '2인 60,000원',
                        'wait_tip'    => '전화 예약 필수 (064-799-4442)',
                        'lat'         => 33.4631,
                        'lng'         => 126.3103,
                    ],
                ],
            ],
            [
                'title'   => '자연 속 체험 + 휴식',
                'summary' => '오전에 체험, 오후 낮잠 시간에 이동, 저녁 여유롭게',
                'tip'     => '낮 12시-2시 사이에 숙소 체크인하고 아이 낮잠 재우세요. 컨디션 관리가 여행의 핵심.',
                'spots'   => [
                    [
                        'type'        => 'place',
                        'time'        => '09:30',
                        'name'        => '에코랜드',
                        'description' => '숲속 기차 타고 곶자왈 탐험. 아이들이 가장 좋아하는 제주 명소 1위.',
                        'duration'    => '2시간',
                        'tip'         => '기차 첫 회차(09:30) 탑승하면 대기 없음. 마지막 역에서 피크닉 가능.',
                        'lat'         => 33.4534,
                        'lng'         => 126.7062,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '12:00',
                        'name'        => '우진해장국',
                        'cuisine'     => '한식',
                        'description' => '제주 현지인 맛집. 고사리육개장이 시그니처. 반찬으로 나오는 멜젓이 별미.',
                        'menu'        => '고사리육개장, 몸국',
                        'price'       => '1인 10,000원',
                        'wait_tip'    => '제주시 본점 말고 조천점이 덜 붐빔',
                        'lat'         => 33.5432,
                        'lng'         => 126.6792,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '15:00',
                        'name'        => '함덕해수욕장',
                        'description' => '수심이 얕고 모래가 고와 아이 물놀이 최적. 해변 카페 즐비.',
                        'duration'    => '1시간 30분',
                        'tip'         => '썰물 때 더 넓은 모래사장. 조수 시간 미리 확인.',
                        'lat'         => 33.5433,
                        'lng'         => 126.6697,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '18:00',
                        'name'        => '돈사돈 제주본점',
                        'cuisine'     => '흑돼지',
                        'description' => '제주 흑돼지 맛집. 좌식/테이블석 선택 가능.',
                        'menu'        => '흑돼지 근고기, 오겹살',
                        'price'       => '2인 50,000원',
                        'wait_tip'    => '오후 5시 전 방문 시 바로 입장',
                        'lat'         => 33.4996,
                        'lng'         => 126.5312,
                    ],
                ],
            ],
            [
                'title'   => '공항 방면 마무리',
                'summary' => '귀국일 아침, 공항 방향으로 이동하며 마지막 명소',
                'tip'     => '비행기 3시간 전까지 공항 도착 목표. 렌터카 반납 시간 30분 여유 두세요.',
                'spots'   => [
                    [
                        'type'        => 'place',
                        'time'        => '09:00',
                        'name'        => '도두봉',
                        'description' => '공항에서 10분. 20분이면 정상. 비행기 이착륙 보며 아이와 마무리.',
                        'duration'    => '40분',
                        'tip'         => '무지개해안도로와 연결. 드라이브 코스로도 좋음.',
                        'lat'         => 33.5066,
                        'lng'         => 126.4628,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '10:30',
                        'name'        => '삼대국수회관',
                        'cuisine'     => '한식',
                        'description' => '제주식 고기국수 원조. 담백한 국물이 아이도 잘 먹음.',
                        'menu'        => '고기국수',
                        'price'       => '1인 9,000원',
                        'wait_tip'    => '공항 근처라 항상 붐빔. 10시 오픈 맞춰 가세요.',
                        'lat'         => 33.5048,
                        'lng'         => 126.4929,
                    ],
                ],
            ],
        ],
    ],

    // ═══════════════════════════════════════════
    // 도쿄 디즈니랜드
    // ═══════════════════════════════════════════
    [
        'title'       => '대기 시간 총 3시간 절약하는 도쿄 디즈니랜드 동선 설계도',
        'excerpt'     => '디즈니랜드에서 줄 서느라 하루를 낭비하지 마세요. 프리미어 액세스 + 최적 동선으로 인기 어트랙션 8개를 웨이팅 최소화로 즐기는 완벽 공략법.',
        'content'     => '<p>도쿄 디즈니랜드 평균 대기시간은 인기 어트랙션 기준 <strong>60-90분</strong>입니다. 하루에 4-5개 타면 대기만 4시간...</p>
<p>이 가이드는 <strong>프리미어 액세스(유료 패스트패스)</strong>와 <strong>오픈런 동선</strong>을 조합해 대기시간을 <strong>총 3시간 이상 절약</strong>합니다.</p>
<h3>핵심 전략</h3>
<ul>
<li>오픈 15분 전 도착 → 입장 직후 동선이 승부처</li>
<li>프리미어 액세스는 미녀와 야수, 베이맥스에 사용</li>
<li>스탠바이 패스가 필요한 어트랙션 우선 확보</li>
<li>퍼레이드 시간에 인기 어트랙션 공략</li>
</ul>',
        'dest_slugs'  => ['tokyo', 'japan'],
        'styles'      => ['가족여행', '문화체험'],
        'meta'        => [
            '_ft_destination_name' => '도쿄',
            '_ft_duration'         => '1일',
            '_ft_price_range'      => 'moderate',
            '_ft_difficulty'       => 'moderate',
            '_ft_best_season'      => '3월~5월, 10월~11월',
            '_ft_highlights'       => '대기시간 3시간 절약, 인기 어트랙션 8개, 프리미어 액세스 활용법',
            '_ft_map_lat'          => '35.6329',
            '_ft_map_lng'          => '139.8804',
            '_ft_map_zoom'         => 16,
        ],
        'days' => [
            [
                'title'   => '디즈니랜드 완벽 공략',
                'summary' => '오픈런부터 불꽃놀이까지, 분단위로 설계된 동선',
                'tip'     => '디즈니 앱 필수 설치. 프리미어 액세스는 당일 앱에서 구매 가능 (1,500-2,000엔/1회).',
                'spots'   => [
                    [
                        'type'        => 'place',
                        'time'        => '07:45',
                        'name'        => '마이하마역 도착',
                        'description' => '오픈 8시 기준, 15분 전 게이트 앞 대기.',
                        'tip'         => 'JR 게이요선 마이하마역에서 도보 5분.',
                        'lat'         => 35.6324,
                        'lng'         => 139.8813,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '08:00',
                        'name'        => '빅썬더 마운틴',
                        'description' => '입장하자마자 웨스턴랜드로 직행. 오픈런 시 대기 15분 이내.',
                        'duration'    => '30분',
                        'tip'         => '달리지 마세요! 빠른 걸음으로.',
                        'lat'         => 35.6322,
                        'lng'         => 139.8773,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '08:45',
                        'name'        => '스플래시 마운틴',
                        'description' => '빅썬더 마운틴 바로 옆. 연달아 탑승하면 효율 극대화.',
                        'duration'    => '40분',
                        'tip'         => '앞좌석은 덜 젖음. 우비 준비하면 더 좋음.',
                        'lat'         => 35.6330,
                        'lng'         => 139.8765,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '10:30',
                        'name'        => '그랑마 사라의 키친',
                        'cuisine'     => '양식',
                        'description' => '크리터컨트리 내 레스토랑. 일찍 점심 먹고 오후 피크 피하기.',
                        'menu'        => '그랑마 사라의 스페셜 세트',
                        'price'       => '1,800엔',
                        'wait_tip'    => '11시 전이면 바로 입장',
                        'lat'         => 35.6333,
                        'lng'         => 139.8762,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '11:30',
                        'name'        => '캐리비안의 해적',
                        'description' => '점심시간대는 야외 어트랙션으로 사람 몰림. 실내는 비교적 한산.',
                        'duration'    => '30분',
                        'tip'         => '잭 스패로우 등장 장면 놓치지 마세요.',
                        'lat'         => 35.6315,
                        'lng'         => 139.8782,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '12:30',
                        'name'        => '호라이티드 맨션',
                        'description' => '실내 어트랙션 연속 공략. 대기 25분 이내면 탑승.',
                        'duration'    => '25분',
                        'tip'         => '무덤 비석의 숨은 메시지 찾아보기.',
                        'lat'         => 35.6338,
                        'lng'         => 139.8793,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '15:00',
                        'name'        => '미녀와 야수 (프리미어 액세스)',
                        'description' => '구매해둔 프리미어 액세스로 대기 없이 입장.',
                        'duration'    => '30분',
                        'tip'         => '예약 시간 5분 전 도착. 늦으면 무효.',
                        'lat'         => 35.6345,
                        'lng'         => 139.8800,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '16:00',
                        'name'        => '베이맥스의 해피라이드',
                        'description' => '투모로우랜드 신규 어트랙션.',
                        'duration'    => '45분',
                        'tip'         => '싱글라이더 이용하면 대기 절반 단축.',
                        'lat'         => 35.6330,
                        'lng'         => 139.8838,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '17:30',
                        'name'        => '이스트사이드 카페',
                        'cuisine'     => '양식',
                        'description' => '월드바자 내 레스토랑. 불꽃놀이 전 여유있게 저녁.',
                        'menu'        => '스페셜 코스',
                        'price'       => '2,500엔',
                        'wait_tip'    => '창가석 요청하세요.',
                        'lat'         => 35.6320,
                        'lng'         => 139.8815,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '19:00',
                        'name'        => '스페이스 마운틴',
                        'description' => '저녁 식사 시간대 대기 감소. 40분 이내면 탑승.',
                        'duration'    => '35분',
                        'tip'         => '어두운 실내 롤러코스터.',
                        'lat'         => 35.6328,
                        'lng'         => 139.8842,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '20:30',
                        'name'        => '불꽃놀이 & 캐슬 프로젝션',
                        'description' => '신데렐라 성 앞 최고의 위치에서 하루 마무리.',
                        'duration'    => '20분',
                        'tip'         => '플라자 중앙보다 살짝 오른쪽이 사진 찍기 좋음.',
                        'lat'         => 35.6328,
                        'lng'         => 139.8795,
                    ],
                ],
            ],
        ],
    ],

    // ═══════════════════════════════════════════
    // 오사카 도톤보리
    // ═══════════════════════════════════════════
    [
        'title'       => '웨이팅 없이 즐기는 도톤보리 맛집 5곳의 틈새 방문 시간',
        'excerpt'     => '도톤보리 인기 맛집은 평균 대기 40분. 하지만 "틈새 시간"을 노리면 줄 없이 들어갈 수 있습니다. 현지인 팁 기반 완벽 타이밍 가이드.',
        'content'     => '<p>도톤보리는 오사카 여행의 하이라이트지만, 인기 맛집은 <strong>점심 12-14시, 저녁 18-20시</strong>에 긴 줄이 생깁니다.</p>
<p>이 가이드는 각 맛집의 <strong>"틈새 방문 시간"</strong>을 알려드립니다. 현지인들이 실제로 이용하는 시간대예요.</p>
<h3>틈새 시간의 비밀</h3>
<ul>
<li>오픈 직후 15분 - 첫 번째 웨이브 전</li>
<li>오후 3-5시 - 점심/저녁 사이 공백</li>
<li>밤 9시 이후 - 단체 관광객 빠진 후</li>
</ul>',
        'dest_slugs'  => ['osaka', 'japan'],
        'styles'      => ['맛집투어', '가성비여행'],
        'meta'        => [
            '_ft_destination_name' => '오사카',
            '_ft_duration'         => '1일',
            '_ft_price_range'      => 'budget',
            '_ft_difficulty'       => 'easy',
            '_ft_best_season'      => '3월~5월, 10월~11월',
            '_ft_highlights'       => '웨이팅 제로, 도톤보리 맛집 5곳, 틈새 시간 공략',
            '_ft_map_lat'          => '34.6687',
            '_ft_map_lng'          => '135.5010',
            '_ft_map_zoom'         => 16,
        ],
        'days' => [
            [
                'title'   => '도톤보리 맛집 완전 정복',
                'summary' => '아침부터 밤까지, 웨이팅 없는 맛집 투어 동선',
                'tip'     => '도톤보리는 난바역에서 도보 5분. 이 코스는 모두 걸어서 이동 가능.',
                'spots'   => [
                    [
                        'type'        => 'place',
                        'time'        => '09:30',
                        'name'        => '구로몬 시장',
                        'description' => '도톤보리 맛집 투어 전 워밍업. 신선한 해산물과 과일로 아침.',
                        'duration'    => '1시간',
                        'tip'         => '마구로(참치)와 딸기는 꼭 맛보세요.',
                        'lat'         => 34.6678,
                        'lng'         => 135.5066,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '11:00',
                        'name'        => '이치란 라멘 도톤보리점',
                        'cuisine'     => '라멘',
                        'description' => '돈코츠 라멘 명가. 1인 칸막이석이 특징.',
                        'menu'        => '천연 돈코츠 라멘 + 반숙란',
                        'price'       => '1,090엔',
                        'wait_tip'    => '오픈(11시) 직후 도착하면 대기 0분',
                        'lat'         => 34.6686,
                        'lng'         => 135.5012,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '12:30',
                        'name'        => '글리코 사인',
                        'description' => '인증샷 포토존. 다리 위에서 찍으면 정면으로 나옴.',
                        'duration'    => '30분',
                        'lat'         => 34.6687,
                        'lng'         => 135.5010,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '15:00',
                        'name'        => '타코야키 와나카 본점',
                        'cuisine'     => '타코야키',
                        'description' => '도톤보리 타코야키 원조. 겉바속촉.',
                        'menu'        => '타코야키 12개',
                        'price'       => '700엔',
                        'wait_tip'    => '오후 3-5시가 황금 시간',
                        'lat'         => 34.6689,
                        'lng'         => 135.5006,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '16:00',
                        'name'        => '치보 오코노미야키',
                        'cuisine'     => '오코노미야키',
                        'description' => '오사카 소울푸드. 직접 구워먹는 재미.',
                        'menu'        => '치보 스페셜',
                        'price'       => '1,650엔',
                        'wait_tip'    => '16시 방문이 베스트',
                        'lat'         => 34.6693,
                        'lng'         => 135.5003,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '17:30',
                        'name'        => '돈키호테 도톤보리점',
                        'description' => '기념품 쇼핑. 관람차에서 야경 감상.',
                        'duration'    => '1시간',
                        'lat'         => 34.6684,
                        'lng'         => 135.5026,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '21:00',
                        'name'        => '킨류 라멘',
                        'cuisine'     => '라멘',
                        'description' => '24시간 영업. 황금 용 간판이 랜드마크.',
                        'menu'        => '킨류 라멘 + 교자',
                        'price'       => '1,000엔',
                        'wait_tip'    => '밤 9시 이후 한산',
                        'lat'         => 34.6690,
                        'lng'         => 135.5015,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '22:00',
                        'name'        => '쿠시카츠 다루마',
                        'cuisine'     => '쿠시카츠',
                        'description' => '꼬치튀김 명가. 소스 2번 찍기 금지!',
                        'menu'        => '쿠시카츠 세트 10종',
                        'price'       => '1,500엔',
                        'wait_tip'    => '밤 10시 이후가 틈새 시간',
                        'lat'         => 34.6683,
                        'lng'         => 135.5020,
                    ],
                ],
            ],
        ],
    ],

    // ═══════════════════════════════════════════
    // 방콕 - 가성비 맛집 투어
    // ═══════════════════════════════════════════
    [
        'title'       => '하루 2만원으로 즐기는 방콕 미슐랭 길거리 음식 투어',
        'excerpt'     => '방콕 길거리 음식은 세계 최고 수준입니다. 미슐랭 빕구르망 선정 맛집부터 현지인 줄서는 곳까지, 하루 700바트(약 2만원)로 10끼 먹방!',
        'content'     => '<p>방콕은 세계에서 <strong>길거리 음식이 가장 발달한 도시</strong>입니다. 미슐랭 가이드도 방콕 길거리 음식에 별을 줄 정도죠.</p>
<p>이 코스는 <strong>하루 700바트(약 2만원)</strong>으로 아침부터 야식까지 10가지 음식을 맛보는 가성비 극대화 루트입니다.</p>
<h3>포함된 음식</h3>
<ul>
<li>조식: 죽(조크), 커피</li>
<li>간식: 망고 스티키라이스, 로띠</li>
<li>중식: 팟타이, 쏨땀</li>
<li>간식: 코코넛 아이스크림</li>
<li>석식: 똠얌꿍, 카오팟</li>
<li>야식: 무핑(돼지꼬치)</li>
</ul>',
        'dest_slugs'  => ['bangkok', 'southeast-asia'],
        'styles'      => ['맛집투어', '가성비여행', '배낭여행'],
        'meta'        => [
            '_ft_destination_name' => '방콕',
            '_ft_duration'         => '1일',
            '_ft_price_range'      => 'budget',
            '_ft_difficulty'       => 'easy',
            '_ft_best_season'      => '11월~2월',
            '_ft_highlights'       => '하루 2만원, 미슐랭 길거리 음식, 10가지 먹방',
            '_ft_map_lat'          => '13.7453',
            '_ft_map_lng'          => '100.5014',
            '_ft_map_zoom'         => 14,
        ],
        'days' => [
            [
                'title'   => '방콕 길거리 음식 풀코스',
                'summary' => '아침부터 야식까지, 700바트로 10가지 현지 음식 정복',
                'tip'     => 'BTS/MRT 1일권(150바트) 구매하면 이동이 편합니다. 현금 준비 필수.',
                'spots'   => [
                    [
                        'type'        => 'restaurant',
                        'time'        => '07:30',
                        'name'        => '조크 프린스 (โจ๊กปรินซ์)',
                        'cuisine'     => '조식',
                        'description' => '태국식 죽(조크) 전문점. 계란 반숙 토핑이 별미.',
                        'menu'        => '조크 + 파통코(튀김빵)',
                        'price'       => '60바트',
                        'wait_tip'    => '오전 7-8시 현지인 출근 전 방문',
                        'lat'         => 13.7465,
                        'lng'         => 100.5343,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '09:00',
                        'name'        => '올드타운 카페',
                        'cuisine'     => '카페',
                        'description' => '태국 전통 커피(올리앙). 연유 넣은 달달한 커피.',
                        'menu'        => '올리앙 + 카야토스트',
                        'price'       => '50바트',
                        'lat'         => 13.7422,
                        'lng'         => 100.5101,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '11:00',
                        'name'        => '팁 사마이 (Thip Samai)',
                        'cuisine'     => '태국식',
                        'description' => '미슐랭 빕구르망 팟타이. 계란 옷을 입힌 팟타이가 시그니처.',
                        'menu'        => '팟타이 쏭크렁 (계란옷)',
                        'price'       => '80바트',
                        'wait_tip'    => '저녁에는 1시간+ 대기. 점심이 황금시간',
                        'lat'         => 13.7531,
                        'lng'         => 100.5072,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '12:00',
                        'name'        => '쏨땀 꼰벤트',
                        'cuisine'     => '태국식',
                        'description' => '이산 지방 스타일 쏨땀(파파야 샐러드). 현지인 맛집.',
                        'menu'        => '쏨땀 타이 + 카오니아오(찹쌀밥)',
                        'price'       => '60바트',
                        'lat'         => 13.7267,
                        'lng'         => 100.5346,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '14:00',
                        'name'        => '매 와리 (Mae Varee)',
                        'cuisine'     => '디저트',
                        'description' => '망고 스티키라이스 성지. 달콤한 코코넛밀크가 핵심.',
                        'menu'        => '망고 스티키라이스',
                        'price'       => '120바트',
                        'wait_tip'    => '망고 시즌(3-6월)이 가장 맛있음',
                        'lat'         => 13.7372,
                        'lng'         => 100.5695,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '15:30',
                        'name'        => '짜뚜짝 주말시장',
                        'description' => '세계 최대 주말시장. 15,000개 상점에서 쇼핑 & 먹방.',
                        'duration'    => '2시간',
                        'tip'         => '토/일만 오픈. 평일이면 아시아티크로 대체.',
                        'lat'         => 13.7999,
                        'lng'         => 100.5501,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '18:00',
                        'name'        => '쩻파이 (Jeh O Chula)',
                        'cuisine'     => '태국식',
                        'description' => '미슐랭 빕구르망 똠얌꿍. 인스타 핫플.',
                        'menu'        => '똠얌 마마 (라면사리)',
                        'price'       => '250바트',
                        'wait_tip'    => '새벽 2시까지 영업. 저녁 6시 전 방문 권장',
                        'lat'         => 13.7384,
                        'lng'         => 100.5303,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '21:00',
                        'name'        => '로띠 마타바',
                        'cuisine'     => '디저트',
                        'description' => '태국식 팬케이크. 바나나+누텔라 조합 추천.',
                        'menu'        => '로띠 바나나 누텔라',
                        'price'       => '50바트',
                        'lat'         => 13.7512,
                        'lng'         => 100.5016,
                    ],
                ],
            ],
        ],
    ],

    // ═══════════════════════════════════════════
    // 다낭 - 럭셔리 가성비
    // ═══════════════════════════════════════════
    [
        'title'       => '커피 5잔 값으로 누리는 5성급 리조트 뷰 명소 5곳',
        'excerpt'     => '다낭은 5성급 리조트가 즐비한 럭셔리 휴양지지만, 리조트 투숙 없이도 최고의 뷰를 누릴 수 있습니다. 커피 한 잔(5만동)으로 인피니티풀 뷰까지!',
        'content'     => '<p>다낭의 5성급 리조트 1박 가격은 <strong>30-50만원</strong>입니다. 하지만 리조트 내 카페나 레스토랑은 <strong>일반인도 이용 가능</strong>하다는 사실, 알고 계셨나요?</p>
<p>이 가이드는 <strong>커피 한 잔(5만동, 약 3,000원)</strong>으로 5성급 리조트의 오션뷰, 인피니티풀 뷰를 즐길 수 있는 명소 5곳을 소개합니다.</p>
<h3>꿀팁</h3>
<ul>
<li>리조트 카페는 숙박객 아니어도 입장 가능</li>
<li>수영장 이용은 불가하지만 뷰는 동일</li>
<li>일몰 시간대가 가장 아름다움</li>
<li>스마트 캐주얼 복장 권장</li>
</ul>',
        'dest_slugs'  => ['danang', 'southeast-asia'],
        'styles'      => ['커플여행', '가성비여행'],
        'meta'        => [
            '_ft_destination_name' => '다낭',
            '_ft_duration'         => '1일',
            '_ft_price_range'      => 'budget',
            '_ft_difficulty'       => 'easy',
            '_ft_best_season'      => '2월~5월',
            '_ft_highlights'       => '5성급 리조트 뷰, 커피값으로 럭셔리, 인피니티풀 뷰',
            '_ft_map_lat'          => '16.0471',
            '_ft_map_lng'          => '108.2242',
            '_ft_map_zoom'         => 13,
        ],
        'days' => [
            [
                'title'   => '5성급 뷰 5곳 투어',
                'summary' => '미케비치를 따라 5성급 리조트 카페 순례',
                'tip'     => '그랩(동남아 택시앱) 설치 필수. 리조트 간 이동은 그랩 바이크가 저렴.',
                'spots'   => [
                    [
                        'type'        => 'restaurant',
                        'time'        => '08:00',
                        'name'        => '인터컨티넨탈 다낭 - 시트론',
                        'cuisine'     => '조식',
                        'description' => '프라이빗 비치가 보이는 조식 뷔페. 비숙박객도 이용 가능.',
                        'menu'        => '조식 뷔페',
                        'price'       => '650,000동 (약 35,000원)',
                        'wait_tip'    => '전날 예약 권장. 창가석 요청',
                        'lat'         => 16.1197,
                        'lng'         => 108.2678,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '10:00',
                        'name'        => '선 페닌슐라 리조트 - 인피니티풀 뷰',
                        'description' => '로비 라운지에서 커피 한 잔으로 인피니티풀 + 오션뷰.',
                        'duration'    => '1시간',
                        'tip'         => '수영은 불가. 라운지에서 음료 주문 필수.',
                        'lat'         => 16.0972,
                        'lng'         => 108.2514,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '12:00',
                        'name'        => '풀만 다낭 - 엡론 레스토랑',
                        'cuisine'     => '양식',
                        'description' => '비치프론트 레스토랑. 런치 세트가 가성비 좋음.',
                        'menu'        => '런치 세트',
                        'price'       => '400,000동 (약 22,000원)',
                        'wait_tip'    => '12-1시 피하면 여유로움',
                        'lat'         => 16.0589,
                        'lng'         => 108.2456,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '14:30',
                        'name'        => '하얏트 리젠시 - 스카이36 바',
                        'description' => '다낭 최고층 루프탑 바. 낮에도 오픈. 시내 전경 파노라마.',
                        'duration'    => '1시간',
                        'tip'         => '커피/음료 100,000동(약 5,500원)부터.',
                        'lat'         => 16.0610,
                        'lng'         => 108.2236,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '17:00',
                        'name'        => '쉐라톤 그랜드 - 라 메종 1888',
                        'cuisine'     => '파인다이닝',
                        'description' => '미슐랭 셰프가 만든 베트남-프렌치 퓨전.',
                        'menu'        => '선셋 칵테일 + 애피타이저',
                        'price'       => '300,000동 (약 16,000원)',
                        'wait_tip'    => '일몰 시간 맞춰 예약. 드레스코드 있음.',
                        'lat'         => 16.0479,
                        'lng'         => 108.2410,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '19:00',
                        'name'        => '용다리 야경',
                        'description' => '토/일 21시 불쇼. 무료 관람.',
                        'duration'    => '30분',
                        'tip'         => '다리 동쪽에서 보면 드래곤 얼굴이 정면.',
                        'lat'         => 16.0610,
                        'lng'         => 108.2270,
                    ],
                ],
            ],
        ],
    ],

    // ═══════════════════════════════════════════
    // 파리 - 무료 명소
    // ═══════════════════════════════════════════
    [
        'title'       => '입장료 0원으로 즐기는 파리 필수 명소 7곳 동선',
        'excerpt'     => '파리 박물관 입장료는 평균 15유로(2만원). 하지만 무료 개방일, 무료 명소를 알면 입장료 0원으로 파리 핵심을 즐길 수 있습니다.',
        'content'     => '<p>파리는 <strong>물가가 비싼 도시</strong>로 유명합니다. 루브르 17유로, 오르세 16유로, 에펠탑 전망대 26유로...</p>
<p>하지만 <strong>매월 첫째 일요일</strong>에는 대부분의 국립 박물관이 <strong>무료</strong>이고, 무료로 즐길 수 있는 명소도 많습니다.</p>
<h3>무료 입장 정보</h3>
<ul>
<li>루브르: 매월 첫째 일요일 무료 (10-3월)</li>
<li>오르세: 매월 첫째 일요일 무료</li>
<li>노트르담 대성당: 상시 무료</li>
<li>사크레쾨르: 내부 무료 (돔 전망대만 유료)</li>
</ul>',
        'dest_slugs'  => ['paris', 'europe'],
        'styles'      => ['문화체험', '가성비여행'],
        'meta'        => [
            '_ft_destination_name' => '파리',
            '_ft_duration'         => '1일',
            '_ft_price_range'      => 'budget',
            '_ft_difficulty'       => 'moderate',
            '_ft_best_season'      => '4월~6월, 9월~10월',
            '_ft_highlights'       => '입장료 0원, 무료 명소 7곳, 매월 첫째 일요일',
            '_ft_map_lat'          => '48.8566',
            '_ft_map_lng'          => '2.3522',
            '_ft_map_zoom'         => 13,
        ],
        'days' => [
            [
                'title'   => '파리 무료 명소 풀코스',
                'summary' => '입장료 없이 파리 핵심 명소 7곳 완주',
                'tip'     => '매월 첫째 일요일에 방문하면 루브르, 오르세도 무료! 단, 인파 각오.',
                'spots'   => [
                    [
                        'type'        => 'place',
                        'time'        => '08:00',
                        'name'        => '사크레쾨르 대성당',
                        'description' => '몽마르트르 언덕 위 흰색 성당. 내부 입장 무료.',
                        'duration'    => '45분',
                        'tip'         => '아침 일찍 가면 파리 시내 파노라마 독차지.',
                        'lat'         => 48.8867,
                        'lng'         => 2.3431,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '09:30',
                        'name'        => '르 콩술라 카페',
                        'cuisine'     => '카페',
                        'description' => '아멜리 촬영지. 크루아상과 카페오레로 파리지앵 아침.',
                        'menu'        => '크루아상 + 카페오레',
                        'price'       => '8유로',
                        'lat'         => 48.8845,
                        'lng'         => 2.3379,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '11:00',
                        'name'        => '루브르 박물관 (외관 + 피라미드)',
                        'description' => '유리 피라미드 앞 포토존. 내부는 첫째 일요일에!',
                        'duration'    => '30분',
                        'tip'         => '피라미드 역광 피하려면 오전에 촬영.',
                        'lat'         => 48.8606,
                        'lng'         => 2.3376,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '12:00',
                        'name'        => '튈르리 정원',
                        'description' => '루브르~콩코르드 광장 연결. 파리 시민 휴식처.',
                        'duration'    => '30분',
                        'tip'         => '의자에 앉아 여유롭게 피크닉.',
                        'lat'         => 48.8634,
                        'lng'         => 2.3275,
                    ],
                    [
                        'type'        => 'restaurant',
                        'time'        => '13:00',
                        'name'        => '르 루브르 리폴리',
                        'cuisine'     => '프랑스식',
                        'description' => '점심 정식(플라뒤주르)이 가성비 좋음.',
                        'menu'        => '오늘의 정식',
                        'price'       => '15유로',
                        'lat'         => 48.8614,
                        'lng'         => 2.3379,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '14:30',
                        'name'        => '센 강변 산책 (세느강)',
                        'description' => '오르세 박물관 앞 센 강변. 유네스코 세계유산.',
                        'duration'    => '1시간',
                        'tip'         => '부키니스트(헌책방) 구경하며 산책.',
                        'lat'         => 48.8600,
                        'lng'         => 2.3266,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '16:00',
                        'name'        => '노트르담 대성당',
                        'description' => '2019년 화재 후 복원 중. 외관과 광장은 관람 가능.',
                        'duration'    => '30분',
                        'tip'         => '시테섬에서 세느강 풍경과 함께.',
                        'lat'         => 48.8530,
                        'lng'         => 2.3499,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '17:00',
                        'name'        => '샹젤리제 거리',
                        'description' => '세계에서 가장 아름다운 거리. 개선문까지 산책.',
                        'duration'    => '1시간',
                        'tip'         => '쇼핑은 비싸니 윈도우 쇼핑만.',
                        'lat'         => 48.8698,
                        'lng'         => 2.3076,
                    ],
                    [
                        'type'        => 'place',
                        'time'        => '18:30',
                        'name'        => '트로카데로 광장',
                        'description' => '에펠탑 정면 포토스팟. 일몰+야경 베스트.',
                        'duration'    => '1시간',
                        'tip'         => '일몰 30분 전 도착 권장. 자리 경쟁 치열.',
                        'lat'         => 48.8616,
                        'lng'         => 2.2892,
                    ],
                ],
            ],
        ],
    ],
];

// ─────────────────────────────────────────────
// 4. 포스트 생성
// ─────────────────────────────────────────────
foreach ($itineraries as $itinerary) {
    $post_id = wp_insert_post([
        'post_title'   => $itinerary['title'],
        'post_content' => $itinerary['content'],
        'post_excerpt' => $itinerary['excerpt'],
        'post_status'  => 'publish',
        'post_type'    => 'travel_itinerary',
        'post_author'  => 1,
    ]);

    if (is_wp_error($post_id)) {
        WP_CLI::warning("  일정 '{$itinerary['title']}' 생성 실패: " . $post_id->get_error_message());
        continue;
    }

    // 메타 필드
    foreach ($itinerary['meta'] as $key => $value) {
        update_post_meta($post_id, $key, $value);
    }

    // 일자별 일정
    update_post_meta($post_id, '_ft_days', $itinerary['days']);

    // Destination 택소노미
    $dest_ids = [];
    foreach ($itinerary['dest_slugs'] as $slug) {
        $term_id = get_term_id_by_slug($slug, 'destination');
        if ($term_id) $dest_ids[] = $term_id;
    }
    if (!empty($dest_ids)) {
        wp_set_object_terms($post_id, $dest_ids, 'destination');
    }

    // Travel Style 택소노미
    $style_ids = [];
    foreach ($itinerary['styles'] as $name) {
        $term = get_term_by('name', $name, 'travel_style');
        if ($term) $style_ids[] = $term->term_id;
    }
    if (!empty($style_ids)) {
        wp_set_object_terms($post_id, $style_ids, 'travel_style');
    }

    WP_CLI::log("  [+] #{$post_id} {$itinerary['title']}");
}

WP_CLI::log('');
WP_CLI::success('가치 중심 콘텐츠 v2 생성 완료!');
WP_CLI::log('');
WP_CLI::log('생성된 콘텐츠 (6개):');
WP_CLI::log('  1. 제주: 아이와 함께 동선 40% 절감');
WP_CLI::log('  2. 도쿄: 디즈니랜드 대기 3시간 절약');
WP_CLI::log('  3. 오사카: 도톤보리 웨이팅 없는 맛집');
WP_CLI::log('  4. 방콕: 하루 2만원 미슐랭 길거리 음식');
WP_CLI::log('  5. 다낭: 커피값으로 5성급 뷰');
WP_CLI::log('  6. 파리: 입장료 0원 필수 명소');
WP_CLI::log('');
WP_CLI::log('검증: wp post list --post_type=travel_itinerary --allow-root');
